<!DOCTYPE html>
<html lang="ja">
<head>
<META http-equiv=Content-Type content="text/html; charset=shift_jis">
<title>自動販売機</title>


<style>
  body {
      background-color: #fffaf0;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 30px;
    }

  img {
      width: 420px;
      padding: 20px;
    }

  .money-container{
      display: flex;
      justify-content: space-around;
    }
     
  .money{
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: #ddd;
      text-align: center;
      line-height: 60px;
      font-weight: bold;
      font-size: 16px;
      border: 2px solid #999;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
    }

  .button-container {
      display: flex;
      flex-flow: column;
      align-items: center;
      justify-content: center;
      gap: 20px;  
      margin-top: 20px;
   }

  .insert{
      border-radius: 5px;
      padding: 10px 20px;
      background-color: #ddd;
      text-align: center;
      font-weight: bold;
      font-size: 16px;
      border: 2px solid #999;
    }
 
</style>
<script>
	let nowMoney = 0;

	function insertMoney(value) {
		let latest = 0;

		if(value == "ej"){
		alert("返却レバーが押されました");
		alert(nowMoney + "円を返金します");
		nowMoney = 0;
		document.select.nowMoney.value = nowMoney;
		return;
		}

		if(value === "100") {
		latest = 100;
		}
		else if(value === "50") {
		latest = 50;
		}
		else if(value === "10") {
		latest = 10;
		}



		if(nowMoney + latest > 120) {
		alert("120円を超えたので最後に入れた" + latest + "円を返金します");
		return;
		}

		nowMoney += latest;
		document.select.nowMoney.value = nowMoney;

		if(nowMoney === 120) {
		document.select.nowMoney.value = nowMoney;

		setTimeout(function(){
		alert("ジュースを選んでください");
		nowMoney = 0;
		document.select.nowMoney.value = nowMoney;
		}, 1000);

	}
	
}
		function reset(){
			nowMoney = 0;
			latest = 0;
			document.select.nowMoney.value = nowMoney;
		}

</SCRIPT>
</head>
<body>
<center>

<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhNsSdULp9eUkYVsrcPGxEVJefcX9Xxf3pGgyJSW7f-t7_tckOs4gYY5DL-rT3v4NhKVidSDyk2ojczBg18z4Tycs37OCIxMW6dXbxHNhtCQDbkpY7mZRJk_tBD4mEzd0TV8rmvHo6rr3JM/s800/machine_jidouhanbaiki.png"/>

<form name="select">


<h3>入れるお金を選んでください</h3><br><br>

<div class="money-container">
<div class="money" onclick="insertMoney('100')">100</div>
<div class="money" onclick="insertMoney('50')">50</div>
<div class="money" onclick="insertMoney('10')">10</div>
<div class="money" onclick="insertMoney('ej')">返金</div>
</div><br>
今の金額：<input type="text" size="3" name="nowMoney" value="0">

<br>
<div class="button-container">
<input type='reset' class="insert" value="リセット" onclick="reset">
</div>
</form>
</center>
</body>
</html>
